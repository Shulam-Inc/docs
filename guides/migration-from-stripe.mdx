---
title: "Migration from Stripe"
description: "Replace Stripe with Shulam â€” compliant USDC payments at 5 basis points"
---

# Migration from Stripe

Replace Stripe's 2.9% + 30c per transaction with Shulam's compliant USDC payments at just 5 basis points (0.05%).

## Fee Comparison

| | Stripe | Shulam |
|---|--------|--------|
| Processing fee | 2.9% + $0.30 | 0.05% (5 bps) |
| International fee | +1.5% | 0% |
| Settlement time | 2-7 business days | Seconds |
| Chargebacks | $15 per dispute | N/A (escrow-based) |
| Compliance (OFAC/KYT) | Not included | Built-in |
| Monthly cost on $100K revenue | ~$3,200 | $50 |

## Concept Mapping

| Stripe | Shulam | Notes |
|--------|--------|-------|
| `PaymentIntent` | `requirePayment()` middleware | SDK handles verify + settle |
| `PaymentIntent` (capture later) | `POST /settle` with `mode: "deferred"` | Escrow-based capture |
| `Refund` | `POST /escrow/refund` | Full refund via escrow |
| `Webhook` | `POST /webhooks/configure` | Same pattern |
| `Stripe.js` | `@shulam/x402` | Client-side SDK |
| `stripe.customers` | Wallet addresses | No customer objects needed |

## Migration Steps

### 1. Install the Shulam SDK

```bash
npm install @shulam/x402
```

### 2. Create a Shulam payment option

Add a "Pay with USDC" button next to your existing Stripe checkout:

```tsx
import { useShulamPayment } from "@shulam/x402/react";

function Checkout({ amount, orderId }) {
  const { pay, paying, lastReceipt } = useShulamPayment({
    facilitatorUrl: "https://api.shulam.io",
    signer: walletSigner,
    walletAddress: "0xBuyerAddress",
    maxDailyUSDC: 1000,
  });

  return (
    <div>
      {/* Existing Stripe button */}
      <StripeCheckout amount={amount} />

      {/* New Shulam option */}
      <button
        onClick={() => pay(`/api/checkout/shulam?orderId=${orderId}`)}
        disabled={paying}
      >
        {paying ? "Processing..." : `Pay ${amount} USDC`}
      </button>

      {lastReceipt && <p>Paid! TX: {lastReceipt.txHash}</p>}
    </div>
  );
}
```

### 3. Add the server-side paywall

```typescript
import { requirePayment } from "@shulam/sdk/express";

app.get(
  "/api/checkout/shulam",
  requirePayment({
    amount: "10000000", // 10 USDC
    payTo: process.env.MERCHANT_WALLET,
  }),
  async (req, res) => {
    const { orderId } = req.query;
    await markOrderPaid(orderId, {
      provider: "shulam",
      txHash: req.payment.txHash,
    });
    res.json({ success: true, txHash: req.payment.txHash });
  }
);
```

### 4. Gradually shift traffic

Start by offering Shulam as an option. As adoption grows, you can make it the default and eventually remove Stripe.
