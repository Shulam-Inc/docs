---
title: "Migration from Stripe"
description: "Replace Stripe with Shulam and save on processing fees"
---

# Migration from Stripe

Replace Stripe's 2.9% + 30c per transaction with Shulam's zero-fee USDC payments.

## Fee Comparison

| | Stripe | Shulam |
|---|--------|--------|
| Processing fee | 2.9% + $0.30 | 0% |
| International fee | +1.5% | 0% |
| Settlement time | 2-7 business days | Seconds |
| Chargebacks | $15 per dispute | N/A (escrow-based) |
| Monthly cost on $100K revenue | ~$3,200 | $0 |

## Concept Mapping

| Stripe | Shulam | Notes |
|--------|--------|-------|
| `PaymentIntent` | `POST /settle` | Direct settlement |
| `PaymentIntent` (capture later) | `POST /settle` with `mode: "deferred"` | Escrow-based capture |
| `Refund` | `POST /escrow/refund` | Full refund via escrow |
| `Webhook` | `POST /webhooks/configure` | Same pattern |
| `Stripe.js` | `@shulam/buyer-sdk` | Client-side SDK |
| `stripe.customers` | Wallet addresses | No customer objects needed |

## Migration Steps

### 1. Add the Shulam SDK alongside Stripe

```bash
npm install @shulam/buyer-sdk
```

### 2. Create a Shulam payment option

Add a "Pay with USDC" button next to your existing Stripe checkout:

```tsx
import { ShulamButton } from "@shulam/buyer-sdk/react";

function Checkout({ amount, orderId }) {
  return (
    <div>
      {/* Existing Stripe button */}
      <StripeCheckout amount={amount} />

      {/* New Shulam option */}
      <ShulamButton
        to={process.env.NEXT_PUBLIC_MERCHANT_WALLET}
        amount={(amount * 1e6).toString()} // Convert dollars to USDC base units
        network="base"
        onSuccess={async (result) => {
          await fetch("/api/checkout/shulam", {
            method: "POST",
            body: JSON.stringify({ paymentHeader: result.paymentHeader, orderId }),
          });
        }}
      >
        Pay {amount} USDC (0% fee)
      </ShulamButton>
    </div>
  );
}
```

### 3. Add the server-side settlement endpoint

```javascript
app.post("/api/checkout/shulam", async (req, res) => {
  const { paymentHeader, orderId } = req.body;

  const result = await fetch("https://api.shulam.io/settle", {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${process.env.SHULAM_API_KEY}`,
      "Content-Type": "application/json",
    },
    body: JSON.stringify({ paymentHeader, mode: "direct" }),
  });

  const data = await result.json();
  if (data.settled) {
    await markOrderPaid(orderId, { provider: "shulam", txHash: data.txHash });
    res.json({ success: true });
  } else {
    res.status(400).json({ error: data.error });
  }
});
```

### 4. Gradually shift traffic

Start by offering Shulam as an option. As adoption grows, you can make it the default and eventually remove Stripe.
